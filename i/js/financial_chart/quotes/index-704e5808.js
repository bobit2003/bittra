var se=(e,s,t)=>{if(!s.has(e))throw TypeError("Cannot "+t)};var L=(e,s,t)=>(se(e,s,"read from private field"),t?t.call(e):s.get(e)),oe=(e,s,t)=>{if(s.has(e))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(e):s.set(e,t)},ne=(e,s,t,r)=>(se(e,s,"write to private field"),r?r.call(e,t):s.set(e,t),t);import{d as ue,i as ke,r as Y,a as V,c as f,o as u,b as _,F as x,e as Q,u as c,f as a,t as p,n as de,g as y,h as ae,p as U,j as N,k as qe,l as k,m as Ve,W as xe,q as _e,w as E,s as pe,v as Pe,x as ee,y as z,z as I,A as Le,B as X,C as Ee,D,E as he,G as Z,H as Ie,I as H,T as Oe,S as ve,J as Ae,K as ze,L as Be,M as Me,N as Qe,O as je,P as G,Q as De,R as He,U as Te,V as Re,X as Ue}from"./vendor-9099301a.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();const J=e=>typeof e=="function",Ne=(e,s)=>new Intl.NumberFormat("en",{...s,style:"percent",minimumFractionDigits:2,useGrouping:!1}).format(e),R=(e,s=2)=>new Intl.NumberFormat("en",{minimumFractionDigits:s,useGrouping:!1}).format(e);function re(e=0,s=1,t=1){const r=Math.ceil(e/t);return{previousPage:s-1?s-1:null,nextPage:r>s?s+1:null,total:e,totalPages:r}}const Fe=()=>{const e=new Map;return{query:(r,n)=>{const o=r.join("_");return e.has(o)||e.set(o,n()),e.get(o)},clear:()=>e.clear()}},A=(e=!0)=>({type:Boolean,default:e}),ie=(e,s,t=!0)=>{const r={};return Object.keys(e).forEach(n=>{(t?s.indexOf(n)===-1:s.indexOf(n)>=0)&&(r[n]=e[n])}),r},Ke=(e,s,t)=>Math.min(Math.max(s,e),t),le=new Map([["forex",e=>(e.match(/.{1,3}/g)??[]).map(s=>`symbol-icons rf32 ${s.substring(0,2)}`)],["shares",e=>[["symbol-icon s72",e].join(" ")]],["crypto",e=>[["symbol-icon cr72",e].join(" ")]],["metals",e=>[["symbol-icon m72",e].join(" ")]],["gas",e=>[["symbol-icon og72",e].join(" ")]],["indices",e=>[["symbol-icon i72",e].join(" ")]],["futures",e=>[["symbol-icon cm72",e].join(" ")]]]),We=(e,s)=>{const t=e.replace("#","").split(".").at(0);return le.has(s)?le.get(s)(t):[]};var q;class Ze{constructor(s){oe(this,q,void 0);ne(this,q,s)}start(){L(this,q).open()}stop(){L(this,q).close(),L(this,q).removeAllListeners()}subscribe(s,t="standard",r=4){L(this,q).emit("subscribe",s,t,r)}unsubscribe(s,t="standard",r=4){L(this,q).emit("unsubscribe",s,t,r)}onQuotes(s){L(this,q).on("quotes",t=>{if(t.msg&&J(s)){const{msg:r}=t;s(r)}})}onConnect(s){L(this,q).on("connect",()=>J(s)&&s())}onDisconnect(s){L(this,q).on("disconnect",()=>J(s)&&s())}}q=new WeakMap;const te=(e,s)=>{var r;const t=new URL(e,(r=window==null?void 0:window.__CHART_APP)==null?void 0:r.quoteApiUrl);if(s){const n=new URLSearchParams(s);t.search=n.toString()}return t},Ge=async(e=4)=>{const s=await fetch(te("public/quotes/list",{serverType:e}));if(!s.ok)throw new Error("QuoteList fetch error!");return await s.json()},Je=async(e,s=4)=>{const t=te("public/quotes/extraData",{serverType:s,symbol:e}),r=await fetch(t);if(!r.ok)throw new Error("Server error");return await r.json()},Xe=async()=>{const e=te("public/quotes/categories",{type:"instaforex"}),s=await fetch(e);if(!s.ok)throw new Error("Server error");const t=await s.json();return{popular:[],...t}},Ye=async(e,s="h1",t=4)=>{const n=`rpc=${JSON.stringify({id:0,jsonrpc:"2.0",method:"getOhlcv2",params:{symbol:e,period:s,type:t}})}`,o=new URL("/",window.__CHART_APP.webtraderApiUrl),i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!i.ok)throw new Error("Server error");const d=await i.json();if(d.error)throw new Error("Bad request");return d.result},F=Fe(),et=async(e,s="d1",t=4)=>{const{data:r}=await F.query(["ohlc",e,s,t],()=>Ye(e,s,t));return r},tt=async()=>await F.query(["categories"],()=>Xe()),st=async(e=4)=>await F.query(["quotes",e],()=>Ge(e)),ot=async(e,s=4)=>{const[t]=await F.query(["quote",e,s],()=>Je([e],s));return t},nt=(e,s="")=>{if(s==="")return!0;const t=s.trim().toLowerCase();return e.symbol.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)},ge=ue("quotes",()=>{const e=V("config"),s=new Ze(ke(e.get("quoteSocketUrl"),{transports:["websocket"],autoConnect:!1})),t=Y({quotes:{}});s.onQuotes(o=>{if(t.quotes.hasOwnProperty(o.symbol)){const i=t.quotes[o.symbol];i.ask=o.ask,i.bid=o.bid,i.change=o.change,i.lasttime=o.lasttime}});const r=async o=>{if(!t.quotes.hasOwnProperty(o)){const i=await ot(o);t.quotes[o]=i}s.subscribe([o])},n=o=>{s.unsubscribe([o])};return s.start(),{store:t,subscribe:r,unsubscribe:n}}),M=ue("quotes-list",{state:()=>({page:1,pageSizes:[1,2,3,4],pageSize:1,query:"",category:"popular",instruments:[],categories:{},view:"chart",error:null}),getters:{pageSizeStep(e){return e.view!=="chart"?10:5},pageSizeOptions(e){return e.pageSizes.map(s=>({value:`${s}`,label:`${e.pageSizeStep*s}`}))},realPageSize(e){return e.pageSize*e.pageSizeStep},currentCategory:e=>e.categories[e.category],tradeInstruments:e=>e.instruments.filter(s=>s.tradeEnabled===2&&!s.symbol.includes(".futu")&&!s.symbol.includes(".fx")).sort((s,t)=>t.popularity-s.popularity),popularity:e=>e.tradeInstruments.map(({popularity:s})=>s),filteredInstruments:e=>e.tradeInstruments.filter(s=>e.query!==""?nt(s,e.query):e.category==="popular"?s.popularity>1e3:e.currentCategory.includes(s.typeName)),pageInstrumnets:e=>{const s=(e.page-1)*e.realPageSize;return e.filteredInstruments.slice(s,s+e.realPageSize)},total:e=>e.filteredInstruments.length,paginator:e=>re(e.total,e.page,e.realPageSize),totalPages(e){const{totalPages:s}=re(e.total,e.page,e.realPageSize);return s},pagesOptions(e){return Array(e.totalPages).fill(0).map((t,r)=>r+1).map(t=>({value:`${t}`,label:`${t}`}))}},actions:{async init(){const[e,s]=await Promise.all([tt(),st()]);this.categories=e,this.instruments=s},setPage(e){this.page=+e},changeQuery(e){this.query=e,this.page=1},changeCategory(e){this.category=e,this.page=1},setPageSize(e){e!==this.pageSize&&(this.page=1),this.pageSize=e},setView(e){this.view!==e&&this.page>1&&(this.page=1),this.view=e}}}),at=e=>{const s=ge(),t=f(()=>s.store.quotes[e]),r=f(()=>R(t.value.bid,t.value.digits)),n=f(()=>R(t.value.ask,t.value.digits)),o=f(()=>R(t.value.change,t.value.digits)),i=f(()=>R(t.value.bid-t.value.open_price,t.value.digits)),d=f(()=>Ne(+i.value/t.value.open_price)),v=f(()=>i.value>0?1:i.value<0?-1:0);return{bid:r,ask:n,trand:v,change24h:i,change24hPercent:d,change:o}},rt=e=>{const s=M();return f(()=>Object.keys(s.categories).find(r=>s.categories[r].includes(e)))};const S=(e,s)=>{const t=e.__vccOpts||e;for(const[r,n]of s)t[r]=n;return t},it={class:"quotes-tabs"},lt=["onClick"],ct={__name:"Categories",setup(e){const s=M();return(t,r)=>(u(),_("ul",it,[(u(!0),_(x,null,Q(c(s).categories,(n,o)=>(u(),_("li",{key:o},[a("button",{onClick:i=>c(s).changeCategory(o),class:de(["quotes-tabs__tab",{active:o===c(s).category}])},p(t.$translate(`categories.${o}`)),11,lt)]))),128))]))}},ut=S(ct,[["__scopeId","data-v-7227b40a"]]),dt={},_t={class:"quote-buy"},pt={class:"label-value"},ht=a("div",{class:"data-value"},"-",-1),vt={class:"quote-sell"},gt={class:"label-value"},ft=a("div",{class:"data-value"},"-",-1),mt={class:"quote-change"},bt={class:"label-value"},yt=a("div",{class:"data-value"},"-",-1);function wt(e,s){return u(),_(x,null,[a("div",_t,[a("div",pt,p(e.$translate("buy")),1),ht]),a("div",vt,[a("div",gt,p(e.$translate("sell")),1),ft]),a("div",mt,[a("div",bt,p(e.$translate("change24h")),1),yt])],64)}const Ct=S(dt,[["render",wt]]);const $t={class:"period-radio"},St=["active","disabled","onClick"],kt={__name:"PeriodRadio",props:{modelValue:String,disabled:{type:Boolean,default:!1},options:{type:Array,required:!0,validator:e=>{const s=e.every(r=>Object.keys(r).includes("label")),t=e.every(r=>Object.keys(r).includes("value"));return s&&t}}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,r=n=>s("update:modelValue",n);return(n,o)=>(u(),_("ul",$t,[(u(!0),_(x,null,Q(t.options,i=>(u(),_("li",{key:i.value},[a("button",{active:i.value===t.modelValue,disabled:e.disabled,onClick:d=>r(i.value)},p(i.label),9,St)]))),128))]))}},qt=S(kt,[["__scopeId","data-v-06ed4e46"]]);const Vt=["title"],xt=["value","selected"],Pt={__name:"SelectBox",props:{modelValue:String,title:{type:String,default:""},disabled:{type:Boolean,default:!1},options:{type:Array,required:!0,validator:e=>{const s=e.every(r=>Object.keys(r).includes("label")),t=e.every(r=>Object.keys(r).includes("value"));return s&&t}}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,r=n=>s("update:modelValue",n.target.value);return(n,o)=>(u(),_("select",{onChange:r,title:t.title},[(u(!0),_(x,null,Q(t.options,i=>(u(),_("option",{key:i.value,value:i.value,selected:i.value==t.modelValue},p(i.label),9,xt))),128))],40,Vt))}},fe=S(Pt,[["__scopeId","data-v-b900a36f"]]);const Lt=e=>(U("data-v-6a1f74fc"),e=e(),N(),e),Et={class:"chart-period-radio"},It={class:"chart-period-select"},Ot=["href","title"],At=Lt(()=>a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M4.39063 6.92969C4.34597 6.88669 4.31044 6.83512 4.28618 6.77806C4.26191 6.72101 4.2494 6.65965 4.2494 6.59766C4.2494 6.53566 4.26191 6.4743 4.28618 6.41725C4.31044 6.3602 4.34597 6.30863 4.39063 6.26562C4.43295 6.22119 4.48385 6.18581 4.54026 6.16164C4.59666 6.13746 4.65738 6.125 4.71875 6.125C4.78012 6.125 4.84084 6.13746 4.89724 6.16164C4.95365 6.18581 5.00455 6.22119 5.04688 6.26562L7.53125 8.74219V1.125C7.53125 1.00068 7.58064 0.881451 7.66854 0.793544C7.75645 0.705636 7.87568 0.65625 8 0.65625C8.12432 0.65625 8.24355 0.705636 8.33146 0.793544C8.41936 0.881451 8.46875 1.00068 8.46875 1.125V8.74219L10.9531 6.26562C10.9954 6.22119 11.0464 6.18581 11.1028 6.16164C11.1592 6.13746 11.2199 6.125 11.2812 6.125C11.3426 6.125 11.4033 6.13746 11.4597 6.16164C11.5161 6.18581 11.5671 6.22119 11.6094 6.26562C11.654 6.30863 11.6896 6.3602 11.7138 6.41725C11.7381 6.4743 11.7506 6.53566 11.7506 6.59766C11.7506 6.65965 11.7381 6.72101 11.7138 6.77806C11.6896 6.83512 11.654 6.88669 11.6094 6.92969L8.32812 10.2031C8.2858 10.2476 8.2349 10.2829 8.17849 10.3071C8.12209 10.3313 8.06137 10.3438 8 10.3438C7.93863 10.3438 7.87791 10.3313 7.82151 10.3071C7.7651 10.2829 7.7142 10.2476 7.67188 10.2031L4.39063 6.92969ZM14.875 9.40625C14.7507 9.40625 14.6315 9.45564 14.5435 9.54354C14.4556 9.63145 14.4062 9.75068 14.4062 9.875V14.25C14.4062 14.2914 14.3898 14.3312 14.3605 14.3605C14.3312 14.3898 14.2914 14.4062 14.25 14.4062H1.75C1.70856 14.4062 1.66882 14.3898 1.63951 14.3605C1.61021 14.3312 1.59375 14.2914 1.59375 14.25V9.875C1.59375 9.75068 1.54436 9.63145 1.45646 9.54354C1.36855 9.45564 1.24932 9.40625 1.125 9.40625C1.00068 9.40625 0.881451 9.45564 0.793544 9.54354C0.705636 9.63145 0.65625 9.75068 0.65625 9.875V14.25C0.65625 14.5401 0.771484 14.8183 0.976602 15.0234C1.18172 15.2285 1.45992 15.3438 1.75 15.3438H14.25C14.5401 15.3438 14.8183 15.2285 15.0234 15.0234C15.2285 14.8183 15.3438 14.5401 15.3438 14.25V9.875C15.3438 9.75068 15.2944 9.63145 15.2065 9.54354C15.1185 9.45564 14.9993 9.40625 14.875 9.40625Z",fill:"currentColor"})],-1)),zt=[At],Bt=["href","title"],Mt=["href","title"],Qt={__name:"QuoteActions",setup(e){const s=V("instrument"),t=V("period"),r=V("config"),n=V("i18n"),o=[{label:n.periods.m1,value:"m1"},{label:n.periods.m5,value:"m5"},{label:n.periods.m15,value:"m15"},{label:n.periods.m30,value:"m30"},{label:n.periods.h1,value:"h1"},{label:n.periods.h4,value:"h4"},{label:n.periods.d1,value:"d1"},{label:n.periods.w1,value:"w1"}],i=f(()=>r.get("archiveUrl")(s.symbol)),d=f(()=>r.get("tradeUrl")(s.symbol));return(v,C)=>(u(),_(x,null,[a("div",Et,[y(qt,{options:o,modelValue:c(t),"onUpdate:modelValue":C[0]||(C[0]=g=>ae(t)?t.value=g:null)},null,8,["modelValue"])]),a("div",It,[y(fe,{options:o,modelValue:c(t),"onUpdate:modelValue":C[1]||(C[1]=g=>ae(t)?t.value=g:null)},null,8,["modelValue"])]),a("a",{class:"quote-button quote-button-archive",href:c(i),title:v.$translate("download.tooltip"),target:"_blank"},zt,8,Ot),a("a",{class:"quote-button quote-button-download",href:c(i),target:"_blank",title:v.$translate("download.tooltip")},[a("span",null,p(v.$translate("download.button")),1)],8,Bt),a("a",{class:"quote-button quote-button-trade",href:c(d),title:v.$translate("trade.tooltip")},[a("span",null,p(v.$translate("trade.button")),1)],8,Mt)],64))}},jt=S(Qt,[["__scopeId","data-v-6a1f74fc"]]);const Dt={},Ht={class:"loader-ring"};function Tt(e,s){return u(),_("div",Ht)}const Rt=S(Dt,[["render",Tt],["__scopeId","data-v-0cc446fb"]]);const Ut={__name:"LwChart",props:{type:{type:String,default:"line"},data:{type:Array,required:!0},autosize:{default:!0,type:Boolean},chartOptions:{type:Object},seriesOptions:{type:Object},timeScaleOptions:{type:Object},priceScaleOptions:{type:Object}},setup(e,{expose:s}){const t=e,r=qe();function n(l){return`add${l.charAt(0).toUpperCase()+l.slice(1)}Series`}let o,i;const d=k(),v=()=>{i&&i.timeScale().fitContent()},C=()=>i,g=(l,b)=>{i.applyOptions({width:l,height:b}),v()},w=k(),m=Y({visible:!1,top:0,left:0,price:0,time:""});s({fitContent:v,getChart:C,setSize:g});const P=()=>{if(!i||!d.value)return;const l=d.value.getBoundingClientRect();i.resize(l.width,l.height)},B=l=>{const b=n(l.type);o=i[b](l.seriesOptions),o.setData(l.data)},h=l=>{const{clientWidth:b,clientHeight:O}=d.value;if(!Boolean(r.tooltip)||l.point===void 0||!l.time||l.point.x<0||l.point.x>b||l.point.y<0||l.point.y>O)m.visible=!1;else{const $=new Date(l.time*1e3).toLocaleString("en",{month:"2-digit",year:"numeric",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1}),T=l.seriesData.get(o),j=T.value!==void 0?T.value:T.close,W=o.priceToCoordinate(j),we=w.value.offsetWidth,Ce=w.value.offsetHeight,$e=Ke(0,l.point.x,b-we),Se=(W==null?void 0:W.valueOf())-Ce-10;m.visible=!0,m.left=$e,m.top=Se,m.time=$,m.price=j}};return Ve(()=>{i=xe(d.value,t.chartOptions),i.subscribeCrosshairMove(h),B(t),t.priceScaleOptions&&i.priceScale("right").applyOptions(t.priceScaleOptions),t.timeScaleOptions&&i.timeScale().applyOptions(t.timeScaleOptions),i.timeScale().fitContent(),t.autosize&&window.addEventListener("resize",P)}),_e(()=>{i&&(i.unsubscribeCrosshairMove(h),i.remove(),i=null),o&&(o=null),window.removeEventListener("resize",P)}),E(()=>t.autosize,l=>{if(!l){window.removeEventListener("resize",P);return}window.addEventListener("resize",P)}),E(()=>t.type,l=>{o&&i&&i.removeSeries(o),B(t)}),E(()=>t.data,l=>{o&&(o.setData(l),i.timeScale().fitContent())}),E(()=>t.chartOptions,l=>{i&&i.applyOptions(l)}),E(()=>t.seriesOptions,l=>{o&&o.applyOptions(l)}),E(()=>t.priceScaleOptions,l=>{i&&i.priceScale("right").applyOptions(l)}),E(()=>t.timeScaleOptions,l=>{i&&i.timeScale().applyOptions(l)}),(l,b)=>(u(),_(x,null,[a("div",{class:"lw-chart",ref_key:"chartContainer",ref:d},null,512),Boolean(c(r).tooltip)?pe((u(),_("div",{key:0,ref_key:"tooltipRef",ref:w,class:"chart-tooltip-wrapper",style:ee({top:m.top+"px",left:m.left+"px"})},[z(l.$slots,"tooltip",{price:m.price,time:m.time},void 0,!0)],4)),[[Pe,m.visible]]):I("",!0)],64))}},Nt=S(Ut,[["__scopeId","data-v-3df7802c"]]);const Ft={key:0,class:"loader-wrapper"},Kt={class:"chart-tooltip"},Wt={class:"chart-tooltip__value"},Zt={class:"chart-tooltip__date"},Gt={__name:"QuoteChart",setup(e){const s=new Map([[-1,{crosshairMarkerVisible:!0,lineColor:"#a00e06",topColor:"rgba(255, 95, 85, 0.8)",bottomColor:"rgba(255, 95, 85, 0.1)",lineWidth:1}],[0,{crosshairMarkerVisible:!0,lineColor:"rgba(30, 123, 226, 1)",topColor:"rgba(30, 123, 226, 0.8)",bottomColor:"rgba(30,123,226, 0.1)",lineWidth:1}],[1,{crosshairMarkerVisible:!0,lineColor:"#30BD58",topColor:"rgba(48, 189, 88,0.8)",bottomColor:"rgba(48, 189, 88, 0.1)",lineWidth:1}]]),t={autoSize:!1,handleScroll:!1,handleScale:!1,layout:{background:{type:"solid",color:"transparent"},textColor:"#989898"},localization:{dateFormat:"dd/MM/yyyy"},rightPriceScale:{borderColor:"#EBEBEB",textColor:"#989898"},timeScale:{borderColor:"#EBEBEB",textColor:"#989898",timeVisible:!1}},{symbol:r}=V("instrument"),n=V("trand"),o=V("period"),i=k(),d=k(),v=k([]),C=k("area"),g=k(!1),w=M(),m=async()=>{g.value=!0;const $=await et(r,o.value);$&&(v.value=$),g.value=!1},P=f(()=>v.value.map($=>({value:$.Close,time:new Date($.Date).getTime()/1e3}))),B=f(()=>{const $=w.view!=="table";return{...t,grid:{vertLines:{visible:$},horzLines:{visible:$}},crosshair:{vertLine:{visible:$},horzLine:{visible:$}}}}),h=f(()=>({...s.get(n.value),crosshairMarkerVisible:w.view!=="table"})),l=f(()=>({visible:w.view==="chart"})),b=f(()=>({visible:w.view==="chart"})),O=Y(Le(i,{width:0,height:0},{box:"border-box"}));return X(()=>{var $;($=d.value)==null||$.setSize(O.width,O.height)}),X(m),($,T)=>(u(),_("div",{class:"chart-wrapper",ref_key:"container",ref:i},[g.value?(u(),_("div",Ft,[y(Rt)])):I("",!0),y(Nt,{ref_key:"chart",ref:d,type:C.value,data:c(P),"price-scale-options":c(b),"time-scale-options":c(l),"chart-options":c(B),"series-options":c(h)},Ee({_:2},[c(w).view!=="table"?{name:"tooltip",fn:D(j=>[a("div",Kt,[a("div",Wt,p(j.price),1),a("div",Zt,p(j.time),1)])]),key:"0"}:void 0]),1032,["type","data","price-scale-options","time-scale-options","chart-options","series-options"])],512))}},Jt=S(Gt,[["__scopeId","data-v-d85e3fd5"]]);const Xt={class:"quote-sell"},Yt={class:"label-value"},es={class:"data-value"},ts={class:"quote-buy"},ss={class:"label-value"},os={class:"data-value"},ns={class:"quote-change"},as={class:"label-value"},rs={class:"data-value"},is={class:"data-value"},ls={class:"data-value"},cs=a("div",{class:"quote-trand"},[a("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M9.28396 7.48381L10.1678 6.59992L7.5162 3.94827L4.86455 6.59992L5.74843 7.48381L6.8912 6.34104V11.0518H8.1412V6.34104L9.28396 7.48381Z",fill:"currentColor"}),a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.625 11.875C0.625 13.2557 1.74429 14.375 3.125 14.375H11.875C13.2557 14.375 14.375 13.2557 14.375 11.875V3.125C14.375 1.74429 13.2557 0.625 11.875 0.625H3.125C1.74429 0.625 0.625 1.74429 0.625 3.125V11.875ZM3.125 13.125H11.875C12.5654 13.125 13.125 12.5654 13.125 11.875V3.125C13.125 2.43464 12.5654 1.875 11.875 1.875H3.125C2.43464 1.875 1.875 2.43464 1.875 3.125V11.875C1.875 12.5654 2.43464 13.125 3.125 13.125Z",fill:"currentColor"})])],-1),us={__name:"QuoteData",async setup(e){let s,t;const r=V("trand"),n=V("instrument"),{symbol:o}=n,{unsubscribe:i,subscribe:d}=ge(),{ask:v,bid:C,change24h:g,change24hPercent:w}=at(o);return _e(()=>{i(o)}),[s,t]=he(()=>d(o)),await s,t(),X(()=>{r.value=g.value>0?1:g.value<0?-1:0}),(m,P)=>(u(),_(x,null,[a("div",Xt,[a("div",Yt,p(m.$translate("sell")),1),a("div",es,p(c(C)),1)]),a("div",ts,[a("div",ss,p(m.$translate("buy")),1),a("div",os,p(c(v)),1)]),a("div",ns,[a("div",as,p(m.$translate("change24h")),1),a("div",rs,[a("div",is,p(c(g)),1),a("div",ls,"("+p(c(w))+")",1),cs])])],64))}};const ds=["data-trand"],_s={class:"quote-item__symbol"},ps={class:"quote-item__icon"},hs=["href"],vs={class:"quote-item__description truncate"},gs={class:"quote-item__chart"},fs={class:"quote-item__data"},ms={class:"quote-item__actions"},bs={__name:"Instrument",props:["instrument"],setup(e){const s=e,t=V("config"),r=k(1),n=k(!1);Z("instrument",s.instrument),Z("period",k("m15")),Z("trand",r);const o=rt(s.instrument.typeName),i=f(()=>We(s.instrument.symbol,o.value)),d=f(()=>t.get("specUrl")(s.instrument.symbol));function v(C){n.value!==!0&&(n.value=C)}return(C,g)=>pe((u(),_("div",{class:"quote-item","data-trand":r.value},[a("div",_s,[a("div",ps,[(u(!0),_(x,null,Q(c(i),w=>(u(),_("div",{class:de(w)},null,2))),256))]),a("a",{class:"quote-item__link",href:c(d),target:"_blank"},p(e.instrument.symbol),9,hs),a("div",vs,p(e.instrument.description),1)]),a("div",gs,[y(Oe,{mode:"out-in"},{default:D(()=>[n.value?(u(),H(Jt,{key:0})):I("",!0)]),_:1})]),a("div",fs,[(u(),H(ve,null,{fallback:D(()=>[y(Ct)]),default:D(()=>[n.value?(u(),H(us,{key:0})):I("",!0)]),_:1}))]),a("div",ms,[y(jt)])],8,ds)),[[c(Ie),v]])}},ys=S(bs,[["__scopeId","data-v-e14bc88b"]]);const ws={},Cs={class:"table-header"},$s={class:"table-header__symbol"},Ss={class:"table-header__chart"},ks={class:"table-header__data"},qs={class:"table-header__sell"},Vs={class:"table-header__buy"},xs={class:"table-header__change"},Ps={class:"table-header__actions"};function Ls(e,s){return u(),_("div",Cs,[a("div",$s,p(e.$translate("instrument")),1),a("div",Ss,p(e.$translate("chart")),1),a("div",ks,[a("div",qs,p(e.$translate("sell")),1),a("div",Vs,p(e.$translate("buy")),1),a("div",xs,p(e.$translate("change24h")),1)]),a("div",Ps,p(e.$translate("actions")),1)])}const Es=S(ws,[["render",Ls],["__scopeId","data-v-bd34fc73"]]);const Is=["data-view"],Os={__name:"QuotesList",setup(e){const s=M();return(t,r)=>(u(),_(x,null,[c(s).view==="table"?(u(),H(Es,{key:0})):I("",!0),a("ul",{class:"quotes__list","data-view":c(s).view},[(u(!0),_(x,null,Q(c(s).pageInstrumnets,n=>(u(),_("li",{key:n.symbol},[y(ys,{instrument:n},null,8,["instrument"])]))),128))],8,Is)],64))}},As=S(Os,[["__scopeId","data-v-0a2e030f"]]);const me=e=>(U("data-v-e401acb4"),e=e(),N(),e),zs=["disabled"],Bs=me(()=>a("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M6.82873 12.6568L1.17188 6.99999L6.82873 1.34314",stroke:"currentColor"})],-1)),Ms=[Bs],Qs=["active","disabled","onClick"],js=["disabled"],Ds=me(()=>a("svg",{width:"8",height:"14",viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M1.17127 12.6568L6.82812 6.99999L1.17127 1.34314",stroke:"currentColor"})],-1)),Hs=[Ds],Ts={__name:"Paginator",props:{modelValue:Number,nextPage:Number,totalPages:Number,previousPage:Number,disabled:{type:Boolean,default:!1},viewLimit:{type:Number,default:3},align:{type:String,default:"center",validator:e=>["center","start","end"].includes(e)}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,r=f(()=>{const o=Array(t.totalPages).fill(0).map((g,w)=>w+1),i=o.findIndex(g=>g===t.modelValue),d=Math.max(0,i-t.viewLimit),v=Math.min(i+t.viewLimit,o.length);return o.slice(d,v)}),n=o=>s("update:modelValue",o);return(o,i)=>t.totalPages>1?(u(),_("ul",{key:0,class:"quotes-pagination",style:ee({"justify-content":t.align})},[a("li",null,[a("button",{disabled:!t.previousPage,onClick:i[0]||(i[0]=d=>n(t.previousPage))},Ms,8,zs)]),(u(!0),_(x,null,Q(c(r),d=>(u(),_("li",{key:d},[a("button",{class:"quotes-pagination-page",active:e.modelValue===d,disabled:e.modelValue===d,onClick:v=>n(d)},p(d),9,Qs)]))),128)),a("li",null,[a("button",{class:"quotes-pagination__button",disabled:!t.nextPage,onClick:i[1]||(i[1]=d=>n(t.nextPage))},Hs,8,js)])],4)):I("",!0)}},Rs=S(Ts,[["__scopeId","data-v-e401acb4"]]);const Us={__name:"QuotesPaginator",props:{align:{type:String,default:"center",validator:e=>["center","start","end"].includes(e)}},setup(e){const s=e,t=M();return(r,n)=>(u(),_("div",{style:ee({"justify-content":s.align})},[y(Rs,{modelValue:c(t).page,"onUpdate:modelValue":n[0]||(n[0]=o=>c(t).page=o),"previous-page":c(t).paginator.previousPage,"total-pages":c(t).paginator.totalPages,"next-page":c(t).paginator.nextPage},null,8,["modelValue","previous-page","total-pages","next-page"]),y(fe,{title:r.$translate("perpage.tooltip"),options:c(t).pageSizeOptions,"model-value":c(t).pageSize.toString(),"onUpdate:modelValue":c(t).setPageSize},null,8,["title","options","model-value","onUpdate:modelValue"])],4))}},ce=S(Us,[["__scopeId","data-v-33fe3324"]]);const be=e=>(U("data-v-c93b838b"),e=e(),N(),e),Ns=be(()=>a("i",{class:"search-icon search"},null,-1)),Fs=["data-shortcut-enabled","value"],Ks=be(()=>a("i",{class:"search-icon shortcut",title:'Press "/" to search'},null,-1)),Ws=["onKeydown"],Zs={__name:"SearchInput",props:{type:{type:String,default:"search"},modelValue:{type:String,default:""},wrapperClass:{type:String,default:"search-input-wrapper"},searchIcon:A(),shortcutIcon:A(),clearIcon:A(),hideShortcutIconOnBlur:A(),clearOnEsc:A(),blurOnEsc:A(),selectOnFocus:A(),shortcutListenerEnabled:A(),shortcutKey:{type:String,default:"/"}},emits:["update:modelValue"],setup(e,{emit:s}){const t=e,r=Ae(),n=k(!1),o=k(null),i=f(()=>ie(r,["class","style"])),d=f(()=>{const h=ie(r,["class","style"],!1);return h.class||(h.class=t.wrapperClass),h}),v=f(()=>!!(t.clearIcon&&t.modelValue.length>0)),C=f(()=>!!(t.shortcutIcon&&!n.value&&!t.hideShortcutIconOnBlur||t.shortcutIcon&&!n.value&&t.modelValue.length===0)),g=()=>{s("update:modelValue","")},w=h=>{s("update:modelValue",h.target.value)},m=h=>{h.key==="Escape"&&(t.clearOnEsc&&g(),t.blurOnEsc&&o.value)},P=h=>{if(h.key===t.shortcutKey&&h.target!==o.value&&window.document.activeElement!==o.value&&!(h.target instanceof HTMLInputElement)&&!(h.target instanceof HTMLSelectElement)&&!(h.target instanceof HTMLTextAreaElement)){h.preventDefault();const l=[].slice.call(document.querySelectorAll('[data-search-input="true"]:not([data-shortcut-enabled="false"])')).filter(O=>!!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)),b=l.length>1?l[0]:o.value;b==null||b.focus(),t.selectOnFocus&&(b==null||b.select())}},B=()=>window.document.removeEventListener("keydown",P);return E(()=>t.shortcutListenerEnabled,h=>{h?window.document.addEventListener("keydown",P):B()},{immediate:!0}),ze(()=>{B()}),(h,l)=>(u(),_("div",Me(Qe(c(d))),[z(h.$slots,"prepend",{},void 0,!0),e.searchIcon?z(h.$slots,"search-icon",{key:0},()=>[Ns],!0):I("",!0),z(h.$slots,"prepend-inner",{},void 0,!0),a("input",Be({ref_key:"inputRef",ref:o,type:"search","data-search-input":"true","data-shortcut-enabled":e.shortcutListenerEnabled,value:e.modelValue},c(i),{onInput:w,onFocus:l[0]||(l[0]=b=>n.value=!0),onBlur:l[1]||(l[1]=b=>n.value=!1),onKeydown:m}),null,16,Fs),z(h.$slots,"append",{},void 0,!0),c(C)?z(h.$slots,"shortcut-icon",{key:1},()=>[Ks],!0):I("",!0),c(v)?z(h.$slots,"clear-icon",{key:2,clear:g},()=>[a("button",{class:"search-icon clear","aria-label":"Clear",onMousedown:g,onKeydown:je(g,["space","enter"])},null,40,Ws)],!0):I("",!0),z(h.$slots,"append-outer",{},void 0,!0)],16))}},Gs=S(Zs,[["__scopeId","data-v-c93b838b"]]);const ye=e=>(U("data-v-d7f657c5"),e=e(),N(),e),Js={class:"quotes-view-chooser"},Xs=["checked"],Ys={class:"quotes-view-chooser__button"},eo=ye(()=>a("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M1 13L8.09091 5.57143L11.3636 9L19 1",stroke:"#AEAEAE","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),to=["checked"],so={class:"quotes-view-chooser__button"},oo=De('<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d7f657c5><rect x="0.75" y="0.75" width="7.5" height="7.5" rx="1.25" stroke="#AEAEAE" stroke-width="1.5" data-v-d7f657c5></rect><rect x="0.75" y="11.75" width="7.5" height="7.5" rx="1.25" stroke="#AEAEAE" stroke-width="1.5" data-v-d7f657c5></rect><rect x="11.75" y="0.75" width="7.5" height="7.5" rx="1.25" stroke="#AEAEAE" stroke-width="1.5" data-v-d7f657c5></rect><rect x="11.75" y="11.75" width="7.5" height="7.5" rx="1.25" stroke="#AEAEAE" stroke-width="1.5" data-v-d7f657c5></rect></svg>',1),no=["checked","disabled"],ao={class:"quotes-view-chooser__button"},ro=ye(()=>a("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[a("rect",{y:"3",width:"20",height:"1.5",rx:"0.75",fill:"#AEAEAE"}),a("rect",{y:"9",width:"20",height:"1.5",rx:"0.75",fill:"#AEAEAE"}),a("rect",{y:"15",width:"20",height:"1.5",rx:"0.75",fill:"#AEAEAE"})],-1)),io={__name:"ViewChooser",props:{modelValue:String,disabled:{type:Boolean,default:!1}},emits:["update:modelValue","changeView"],setup(e,{emit:s}){const t=r=>{s("changeView",r.target.value)};return(r,n)=>(u(),_("ul",Js,[a("li",null,[a("label",null,[a("input",{class:"input-checkbox",type:"radio",checked:e.modelValue==="chart",value:"chart",onInput:n[0]||(n[0]=o=>t(o))},null,40,Xs),a("div",Ys,[eo,G(" "+p(r.$translate("chart")),1)])])]),a("li",null,[a("label",null,[a("input",{class:"input-checkbox",type:"radio",checked:e.modelValue==="cards",value:"cards",onInput:n[1]||(n[1]=o=>t(o))},null,40,to),a("div",so,[oo,G(" "+p(r.$translate("tiles")),1)])])]),a("li",null,[a("label",null,[a("input",{class:"input-checkbox",type:"radio",checked:e.modelValue==="table",value:"table",onInput:n[2]||(n[2]=o=>t(o)),disabled:e.disabled},null,40,no),a("div",ao,[ro,G(" "+p(r.$translate("table")),1)])])])]))}},lo=S(io,[["__scopeId","data-v-d7f657c5"]]);const co={class:"quotes-toolbar"},uo={class:"quotes-toolbar__found"},_o={class:"quotes-toolbar__right"},po={__name:"Toolbar",setup(e){const s=k(""),t=M();E(s,He(t.changeQuery,250));const r=n=>{t.setView(n)};return(n,o)=>(u(),_("div",co,[y(Gs,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=i=>s.value=i),placeholder:n.$translate("search.placeholder")},null,8,["modelValue","placeholder"]),a("div",uo,p(n.$translate("found.instruments"))+": "+p(c(t).filteredInstruments.length),1),a("div",_o,[y(lo,{modelValue:c(t).view,"onUpdate:modelValue":o[1]||(o[1]=i=>c(t).view=i),onChangeView:r},null,8,["modelValue"])])]))}},ho=S(po,[["__scopeId","data-v-11bc5b8d"]]);const vo={class:"quotes"},go={__name:"Quotes",async setup(e){let s,t;const r=M();return[s,t]=he(()=>r.init()),await s,t(),(n,o)=>(u(),_("div",vo,[y(ut),y(ho),y(ce,{align:"end"}),y(As),y(ce)]))}},fo={__name:"App",setup(e){const s=k(null);return Te(t=>(s.value=t,!0)),(t,r)=>(u(),H(ve,null,{default:D(()=>[y(go)]),_:1}))}},mo={install:(e,s)=>{const r=e.config.globalProperties.$config.get("i18n");e.config.globalProperties.$translate=n=>{const o=n.split(".").reduce((i,d)=>{if(i)return i[d]},r);return o||n},e.provide("i18n",r)}},bo="Buy",yo="Sell",wo="24h changes",Co="Actions",$o="Table",So="Chart",ko="Tiles",qo={tooltip:"Items per page"},Vo={button:"Download",tooltip:"Download archive of quotes"},xo={button:"Trade",tooltip:"Trade in the terminal"},Po={instruments:"Found instruments"},Lo={placeholder:"Search instruments"},Eo={forex:"Forex",shares:"Shares",metals:"Metals",crypto:"Crypto",gas:"Gas",indices:"Indices",futures:"Futures"},Io={m1:"1 min",m5:"5 min",m15:"15 min",m30:"30 min",h1:"1 hour",h4:"4 hours",d1:"1 day",w1:"1 week"},Oo={buy:bo,sell:yo,change24h:wo,actions:Co,table:$o,chart:So,tiles:ko,perpage:qo,download:Vo,trade:xo,found:Po,search:Lo,categories:Eo,periods:Io},Ao={install:e=>{if(!window.hasOwnProperty("__CHART_APP"))throw new Error("window.__CHART_APP not found");const s=new Map(Object.entries({...window.__CHART_APP}));s.set("i18n",{...Oo,...window.__CHART_APP.i18n??{}}),e.config.globalProperties.$config=s,e.provide("config",s)}};const zo=Re(),K=Ue(fo);K.use(zo);K.use(Ao);K.use(mo);K.mount("#app-quotes");
